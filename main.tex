\documentclass[a4paper, 11pt, titlepage, twoside, openany]{book}
\usepackage{plain}
\usepackage{setspace}
% Layout
\usepackage[
  paperheight=29.7cm,
  paperwidth=21cm,
  outer=1.5cm,
  inner=2.5cm,
  top=2cm,
  bottom=2cm
]{geometry}
% Chapter
\usepackage{titlesec}
\singlespacing
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
% Letter
\usepackage[utf8]{inputenc}
% Language
\usepackage[english]{babel}
% PDF/A
\usepackage[a-1b]{pdfx}
% Image
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{stackengine}
\usepackage{etoolbox}
\BeforeBeginEnvironment{wrapfigure}{\setlength{\intextsep}{0pt}}
% Hyperlink
\usepackage{xurl}
\usepackage[pdfa]{hyperref}
\hypersetup{breaklinks=true}
% List
\usepackage{enumitem}

% START: DELETE ME
\usepackage{lipsum}
% END: DELETE ME
\usepackage{mdframed}
\newmdenv[
backgroundcolor=gray!20,
linecolor=gray!50,
roundcorner=5pt
]{blockquote}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MY PACKAGES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usetikzlibrary{shapes, arrows, positioning}
\usepackage{listings}
\usepackage[x11names]{xcolor}
\definecolor{code-bg}{RGB}{230, 230, 230}
\definecolor{code-border}{RGB}{104, 104, 104}
\definecolor{code-bg-new}{RGB}{245, 245, 245}
\definecolor{primary}{RGB}{5, 91, 0}
\usepackage{pgfplots}
\usepackage{subfig}
\usepackage{tcolorbox} % For styled code boxes
\usepackage[normalem]{ulem}

% Define colors
\definecolor{bggray}{rgb}{0.95,0.95,0.95}
\definecolor{keywordcolor}{rgb}{0,0,1}
\definecolor{commentcolor}{rgb}{0,0.5,0}
\definecolor{stringcolor}{rgb}{0.6,0.1,0.1}

% Define JavaScript language (if not built-in)
\lstdefinelanguage{JavaScript}{ keywords={break, case, catch, continue, debugger, default, delete, do, else, finally, for, function, if, in, instanceof, new, return, switch, throw, try, typeof, var, void, while, with, let, const, await, async, class, extends, super, export, import},
morekeywords={[2]true,false,null,undefined,NaN,Infinity}, morekeywords={[3]console,window,document,Array,Object,Number,String,Boolean,RegExp,Date,Math,JSON,Promise,setTimeout,setInterval,clearTimeout,clearInterval,require,module,exports},
literate= *{0}{{{\color{orange}0}}}{1} {1}{{{\color{orange}1}}}{1} {2}{{{\color{orange}2}}}{1}
{3}{{{\color{orange}3}}}{1} {4}{{{\color{orange}4}}}{1} {5}{{{\color{orange}5}}}{1}
{6}{{{\color{orange}6}}}{1} {7}{{{\color{orange}7}}}{1} {8}{{{\color{orange}8}}}{1}
{9}{{{\color{orange}9}}}{1}, sensitive=true, comment=[l]{//}, morecomment=[s]{/*}{*/},
morestring=[b]', morestring=[b]" }

% Custom JavaScript style
\lstdefinestyle{jsstyle}{ backgroundcolor=
\color{bggray}
, commentstyle=
\color{commentcolor}
, keywordstyle=
\color{keywordcolor}
\bfseries, stringstyle=
\color{stringcolor}
, basicstyle=\ttfamily\small, breaklines=true, captionpos=b, keepspaces=true, numbers=left,
numbersep=5pt, numberstyle=\tiny
\color{gray}
, showspaces=false, showstringspaces=false, tabsize=2, frame=none, literate= *{0}{{{\color{orange}0}}}{1}
{1}{{{\color{orange}1}}}{1} {2}{{{\color{orange}2}}}{1} {3}{{{\color{orange}3}}}{1}
{4}{{{\color{orange}4}}}{1} {5}{{{\color{orange}5}}}{1} {6}{{{\color{orange}6}}}{1}
{7}{{{\color{orange}7}}}{1} {8}{{{\color{orange}8}}}{1} {9}{{{\color{orange}9}}}{1}
}
% Define PDDL language
\lstdefinelanguage{PDDL}{ keywords={define, and, or, not, exists, forall},
morekeywords={[2]and, requirements, predicates, functions, action, parameters, precondition, effect, domain, goal,}
sensitive=true, comment=[l]{;}, morecomment=[s]{\#|}{|\#}, stringstyle=
\color{stringcolor}
, morestring=[b]', morestring=[b]", }
% Custom PDDL style
\lstdefinestyle{pddlstyle}{ backgroundcolor=
\color{bggray}
, commentstyle=
\color{commentcolor}
, keywordstyle=
\color{keywordcolor}
\bfseries, stringstyle=
\color{stringcolor}
, basicstyle=\ttfamily\small, breaklines=true, captionpos=b, keepspaces=true, numbers=left,
numbersep=5pt, % Adjusted spacing between row numbers and code
numberstyle=\tiny
\color{gray}
, showspaces=false, showstringspaces=false, tabsize=2, frame=none }

% Custom Python style
\lstdefinestyle{pythonstyle}{ backgroundcolor=
\color{bggray}
, commentstyle=
\color{commentcolor}
, keywordstyle=
\color{keywordcolor}
\bfseries, stringstyle=
\color{stringcolor}
, basicstyle=\ttfamily\small, breaklines=true, captionpos=b, keepspaces=true, numbers=left,
numbersep=5pt, % Adjusted spacing between row numbers and code
numberstyle=\tiny
\color{gray}
, showspaces=false, showstringspaces=false, tabsize=2, frame=none, literate= *{0}{{{\color{orange}0}}}{1}
{1}{{{\color{orange}1}}}{1} {2}{{{\color{orange}2}}}{1} {3}{{{\color{orange}3}}}{1}
{4}{{{\color{orange}4}}}{1} {5}{{{\color{orange}5}}}{1} {6}{{{\color{orange}6}}}{1}
{7}{{{\color{orange}7}}}{1} {8}{{{\color{orange}8}}}{1} {9}{{{\color{orange}9}}}{1}
}

% Custom prompt style
\lstdefinestyle{promptstyle}{ backgroundcolor=
\color{bggray}
, commentstyle=
\color{commentcolor}
, keywordstyle=
\color{keywordcolor}
\bfseries, basicstyle=\ttfamily\footnotesize, breaklines=true, captionpos=b, keepspaces=true,
numbers=left, numbersep=5pt, % Adjusted spacing between row numbers and code
numberstyle=\tiny
\color{gray}
, showspaces=false, showstringspaces=false, tabsize=2, frame=none, literate= *{0}{{{\color{primary}0}}}{1}
{1}{{{\color{primary}1}}}{1} {2}{{{\color{primary}2}}}{1} {3}{{{\color{primary}3}}}{1}
{4}{{{\color{primary}4}}}{1} {5}{{{\color{primary}5}}}{1} {6}{{{\color{primary}6}}}{1}
{7}{{{\color{primary}7}}}{1} {8}{{{\color{primary}8}}}{1} {9}{{{\color{primary}9}}}{1}
}
% Define prompt language
\lstdefinelanguage{prompt}{ keywords={MAP, LEGEND, ACTIONS}, sensitive=true, comment=[l]{;},
morecomment=[s]{\#|}{|\#} , morestring=[b]', morestring=[b]", }
% Define a custom tcolorbox for a "code window" effect
\newtcolorbox{codewindow}[1][]{ colback=bggray, colframe=code-border, arc=0mm, boxrule=0.5mm, width=\linewidth, left=5mm, top=2mm, bottom=0mm, right=3mm, title=#1 }
% Document
\begin{document}
  % Cover
  \pagenumbering{gobble}
  \input{etc/cover}
  \clearpage

  % Table of Contents
  \frontmatter
  \pagenumbering{Roman}
  \tableofcontents
  \clearpage
  \begingroup
  \pagestyle{empty}
  \cleardoublepage
  \endgroup

  % Start page numbering
  \mainmatter

  % Group to define space between chapters
  \begingroup
  % Override format of title chapter
  \titleformat{\chapter} {\normalfont\Huge\bfseries}{\thechapter}{1em}{}
  \titlespacing*{\chapter}{0pt}{0.59in}{0.02in} \titlespacing*{\section}{0pt}{0.20in}{0.02in}
  \titlespacing*{\subsection}{0pt}{0.10in}{0.02in} \titlespacing*{\subsubsection}{0pt}{0.05in}{0.02in}

  % Abstract
  \input{etc/abstract.tex}

  % Chapters
  \input{chapters/introduction.tex}
  \input{chapters/background.tex}
  \input{chapters/experiment_setting.tex}
  \input{chapters/agent_development.tex}
  \input{chapters/how_data_has_been_collected.tex}
  \input{chapters/results_discussion.tex}

  % Conclusions
  \input{chapters/future_works.tex}
  \input{etc/conclusions.tex}
  \endgroup

  % Bibliography
  \addcontentsline{toc}{chapter}{Bibliography}
  % Alphabetical order of authors
  \bibliographystyle{plain}
  \bibliography{bibliography.bib}

  % Attachments
  \titleformat{\chapter} {\normalfont\Huge\bfseries}{Appendix \thechapter}{1em}{}
  \appendix
  \input{attachments/attachment.tex}
\end{document}